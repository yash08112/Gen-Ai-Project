<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Chat Assistant</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      overflow: hidden;
    }

    .gradient-bg {
      background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%);
    }

    .glass-effect {
      background: rgba(26, 26, 46, 0.6);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .message-bubble {
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .floating-orb {
      position: absolute;
      border-radius: 50%;
      filter: blur(60px);
      opacity: 0.3;
      animation: float 8s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translate(0, 0) scale(1); }
      33% { transform: translate(30px, -30px) scale(1.1); }
      66% { transform: translate(-20px, 20px) scale(0.9); }
    }

    .orb-1 {
      width: 300px;
      height: 300px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      top: 10%;
      left: 10%;
      animation-delay: 0s;
    }

    .orb-2 {
      width: 250px;
      height: 250px;
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      bottom: 20%;
      right: 15%;
      animation-delay: 2s;
    }

    .orb-3 {
      width: 200px;
      height: 200px;
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      top: 50%;
      right: 10%;
      animation-delay: 4s;
    }

    .typing-indicator span {
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #667eea;
      margin: 0 2px;
      animation: typing 1.4s infinite;
    }

    .typing-indicator span:nth-child(2) {
      animation-delay: 0.2s;
    }

    .typing-indicator span:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes typing {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-10px); }
    }

    .send-button {
      transition: all 0.3s ease;
    }

    .send-button:hover {
      transform: scale(1.05);
    }

    .sidebar-item {
      transition: all 0.2s ease;
    }

    .sidebar-item:hover {
      background: rgba(102, 126, 234, 0.2);
      transform: translateX(4px);
    }

    .chat-input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .scroll-container {
      scrollbar-width: thin;
      scrollbar-color: rgba(102, 126, 234, 0.3) transparent;
    }

    .scroll-container::-webkit-scrollbar {
      width: 6px;
    }

    .scroll-container::-webkit-scrollbar-track {
      background: transparent;
    }

    .scroll-container::-webkit-scrollbar-thumb {
      background: rgba(102, 126, 234, 0.3);
      border-radius: 3px;
    }

    .scroll-container::-webkit-scrollbar-thumb:hover {
      background: rgba(102, 126, 234, 0.5);
    }

    .perspective-card {
      transform-style: preserve-3d;
      transition: transform 0.3s ease;
    }

    .perspective-card:hover {
      transform: translateZ(10px);
    }

    @media (max-width: 768px) {
      .sidebar {
        position: fixed;
        left: -100%;
        transition: left 0.3s ease;
        z-index: 50;
      }

      .sidebar.open {
        left: 0;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full gradient-bg">
  <div class="floating-orb orb-1"></div>
  <div class="floating-orb orb-2"></div>
  <div class="floating-orb orb-3"></div>
  <div class="flex h-full w-full relative"><!-- Left Sidebar -->
   <aside id="sidebar" class="sidebar glass-effect w-64 h-full flex-shrink-0 flex flex-col border-r border-gray-700">
    <div class="p-4 border-b border-gray-700">
     <h1 id="appTitle" class="text-xl font-bold text-white">AI Assistant</h1>
    </div>
    <div class="flex-1 overflow-y-auto scroll-container p-3"><button class="sidebar-item w-full text-left p-3 rounded-lg mb-2 text-gray-300 hover:text-white flex items-center gap-3">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
      </svg><span>New Chat</span> </button>
     <div class="mt-4">
      <h3 class="text-xs font-semibold text-gray-500 uppercase mb-2 px-3">Recent Chats</h3>
      <div class="sidebar-item p-3 rounded-lg mb-2 text-gray-400 hover:text-white cursor-pointer">
       <div class="text-sm font-medium">
        Welcome Conversation
       </div>
       <div class="text-xs text-gray-500 mt-1">
        Just now
       </div>
      </div>
      <div class="sidebar-item p-3 rounded-lg mb-2 text-gray-400 hover:text-white cursor-pointer">
       <div class="text-sm font-medium">
        Project Planning
       </div>
       <div class="text-xs text-gray-500 mt-1">
        2 hours ago
       </div>
      </div>
      <div class="sidebar-item p-3 rounded-lg mb-2 text-gray-400 hover:text-white cursor-pointer">
       <div class="text-sm font-medium">
        Code Review
       </div>
       <div class="text-xs text-gray-500 mt-1">
        Yesterday
       </div>
      </div>
     </div>
    </div>
    <div class="p-4 border-t border-gray-700">
     <div class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-800 cursor-pointer">
      <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-white font-semibold text-sm">
       U
      </div>
      <div class="flex-1">
       <div class="text-sm font-medium text-white">
        User
       </div>
       <div class="text-xs text-gray-400">
        Premium
       </div>
      </div>
     </div>
    </div>
   </aside><!-- Main Chat Area -->
   <main class="flex-1 flex flex-col h-full w-full"><!-- Header -->
    <header class="glass-effect border-b border-gray-700 p-4 flex items-center justify-between">
     <div class="flex items-center gap-3"><button id="menuBtn" class="md:hidden text-gray-400 hover:text-white">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
       </svg></button>
      <div>
       <h2 class="text-lg font-semibold text-white">Chat Assistant</h2>
       <p class="text-xs text-gray-400">Powered by Advanced AI</p>
      </div>
     </div>
     <div class="flex items-center gap-2"><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white">
       <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
       </svg></button>
     </div>
    </header><!-- Chat Messages -->
    <div id="chatContainer" class="flex-1 overflow-y-auto scroll-container p-6 space-y-6">
     <div class="max-w-3xl mx-auto"><!-- Welcome Message -->
      <div class="text-center py-8">
       <div class="inline-block p-4 rounded-2xl glass-effect mb-4">
        <svg class="w-12 h-12 text-purple-500" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
        </svg>
       </div>
       <h3 id="welcomeTitle" class="text-2xl font-bold text-white mb-2">Welcome to AI Assistant</h3>
       <p id="welcomeMessage" class="text-gray-400">How can I help you today?</p>
      </div><!-- Example prompts -->
      <div class="grid md:grid-cols-2 gap-3 mb-6"><button class="perspective-card glass-effect p-4 rounded-xl text-left hover:border-purple-500 border border-transparent transition-all">
        <div class="text-purple-400 mb-2">
         ðŸ’¡
        </div>
        <div class="text-white font-medium mb-1">
         Explain complex concepts
        </div>
        <div class="text-gray-400 text-sm">
         Break down difficult topics simply
        </div></button> <button class="perspective-card glass-effect p-4 rounded-xl text-left hover:border-purple-500 border border-transparent transition-all">
        <div class="text-blue-400 mb-2">
         ðŸš€
        </div>
        <div class="text-white font-medium mb-1">
         Help with projects
        </div>
        <div class="text-gray-400 text-sm">
         Get assistance with your work
        </div></button> <button class="perspective-card glass-effect p-4 rounded-xl text-left hover:border-purple-500 border border-transparent transition-all">
        <div class="text-pink-400 mb-2">
         âœ¨
        </div>
        <div class="text-white font-medium mb-1">
         Creative ideas
        </div>
        <div class="text-gray-400 text-sm">
         Brainstorm and innovate together
        </div></button> <button class="perspective-card glass-effect p-4 rounded-xl text-left hover:border-purple-500 border border-transparent transition-all">
        <div class="text-green-400 mb-2">
         ðŸ“š
        </div>
        <div class="text-white font-medium mb-1">
         Learn something new
        </div>
        <div class="text-gray-400 text-sm">
         Expand your knowledge base
        </div></button>
      </div>
     </div>
    </div><!-- Input Area -->
    <div class="glass-effect border-t border-gray-700 p-4">
     <form id="chatForm" class="max-w-3xl mx-auto">
      <div class="flex items-end gap-3">
       <div class="flex-1 glass-effect rounded-2xl border border-gray-600 focus-within:border-purple-500 transition-all"><textarea id="messageInput" rows="1" class="chat-input w-full bg-transparent text-white px-4 py-3 resize-none border-0" placeholder="Ask me anything..." style="max-height: 200px;"></textarea>
       </div><button type="submit" class="send-button p-3 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700 transition-all">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
        </svg></button>
      </div>
      <div class="text-center mt-2">
       <p class="text-xs text-gray-500">AI can make mistakes. Consider checking important information.</p>
      </div>
     </form>
    </div>
   </main>
  </div>
  <script>
    const defaultConfig = {
      app_title: "AI Assistant",
      welcome_message: "How can I help you today?",
      placeholder_text: "Ask me anything...",
      primary_color: "#667eea",
      surface_color: "#1a1a2e",
      text_color: "#ffffff",
      secondary_action_color: "#f5576c",
      background_color: "#0a0a0f"
    };

    let config = { ...defaultConfig };

    async function onConfigChange(newConfig) {
      config = { ...config, ...newConfig };
      
      document.getElementById('appTitle').textContent = config.app_title || defaultConfig.app_title;
      document.getElementById('welcomeTitle').textContent = `Welcome to ${config.app_title || defaultConfig.app_title}`;
      document.getElementById('welcomeMessage').textContent = config.welcome_message || defaultConfig.welcome_message;
      document.getElementById('messageInput').placeholder = config.placeholder_text || defaultConfig.placeholder_text;
      
      document.documentElement.style.setProperty('--primary-color', config.primary_color || defaultConfig.primary_color);
      document.documentElement.style.setProperty('--surface-color', config.surface_color || defaultConfig.surface_color);
      document.documentElement.style.setProperty('--text-color', config.text_color || defaultConfig.text_color);
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.primary_color || defaultConfig.primary_color,
            set: (value) => {
              config.primary_color = value;
              window.elementSdk.setConfig({ primary_color: value });
            }
          },
          {
            get: () => config.surface_color || defaultConfig.surface_color,
            set: (value) => {
              config.surface_color = value;
              window.elementSdk.setConfig({ surface_color: value });
            }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => {
              config.text_color = value;
              window.elementSdk.setConfig({ text_color: value });
            }
          },
          {
            get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
            set: (value) => {
              config.secondary_action_color = value;
              window.elementSdk.setConfig({ secondary_action_color: value });
            }
          },
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => {
              config.background_color = value;
              window.elementSdk.setConfig({ background_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["app_title", config.app_title || defaultConfig.app_title],
        ["welcome_message", config.welcome_message || defaultConfig.welcome_message],
        ["placeholder_text", config.placeholder_text || defaultConfig.placeholder_text]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    const chatContainer = document.getElementById('chatContainer');
    const chatForm = document.getElementById('chatForm');
    const messageInput = document.getElementById('messageInput');
    const menuBtn = document.getElementById('menuBtn');
    const sidebar = document.getElementById('sidebar');

    messageInput.addEventListener('input', function() {
      this.style.height = 'auto';
      this.style.height = Math.min(this.scrollHeight, 200) + 'px';
    });

    menuBtn.addEventListener('click', () => {
      sidebar.classList.toggle('open');
    });

    chatForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const message = messageInput.value.trim();
      if (!message) return;

      const welcomeSection = chatContainer.querySelector('.text-center');
      if (welcomeSection) {
        welcomeSection.remove();
      }

      const examplePrompts = chatContainer.querySelector('.grid');
      if (examplePrompts) {
        examplePrompts.remove();
      }

      const messagesContainer = chatContainer.querySelector('.max-w-3xl') || chatContainer;
      
      const userMessageDiv = document.createElement('div');
      userMessageDiv.className = 'message-bubble flex justify-end mb-4';
      userMessageDiv.innerHTML = `
        <div class="max-w-2xl glass-effect rounded-2xl p-4 border border-gray-700">
          <div class="flex items-start gap-3">
            <div class="flex-1">
              <p class="text-white">${message}</p>
            </div>
            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-white font-semibold text-sm flex-shrink-0">
              U
            </div>
          </div>
        </div>
      `;
      messagesContainer.appendChild(userMessageDiv);

      messageInput.value = '';
      messageInput.style.height = 'auto';

      chatContainer.scrollTop = chatContainer.scrollHeight;

      const aiMessageDiv = document.createElement('div');
      aiMessageDiv.className = 'message-bubble flex justify-start mb-4';
      aiMessageDiv.innerHTML = `
        <div class="max-w-2xl glass-effect rounded-2xl p-4 border border-purple-500">
          <div class="flex items-start gap-3">
            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0">
              <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
            </div>
            <div class="flex-1">
              <div class="typing-indicator">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>
          </div>
        </div>
      `;
      messagesContainer.appendChild(aiMessageDiv);

      chatContainer.scrollTop = chatContainer.scrollHeight;

      await new Promise(resolve => setTimeout(resolve, 2000));

      const responses = [
        "I'm here to help! This is a demo chatbot interface. In a real implementation, I would be connected to an AI model to provide intelligent responses to your questions.",
        "That's an interesting question! While this is a UI demo, imagine the possibilities when connected to a powerful AI model. The interface is designed to provide a seamless conversation experience.",
        "Great question! This interface showcases modern web design with 3D elements and smooth animations. In production, it would be powered by advanced AI to assist with various tasks.",
        "I appreciate you testing out this interface! The dark theme and professional design create an immersive experience. When connected to AI, this could help with research, coding, writing, and much more."
      ];
      
      const randomResponse = responses[Math.floor(Math.random() * responses.length)];
      
      aiMessageDiv.querySelector('.flex-1').innerHTML = `<p class="text-gray-200">${randomResponse}</p>`;
      
      chatContainer.scrollTop = chatContainer.scrollHeight;
    });

    const promptButtons = document.querySelectorAll('.perspective-card');
    promptButtons.forEach(button => {
      button.addEventListener('click', () => {
        const promptText = button.querySelector('.text-white').textContent;
        messageInput.value = promptText;
        messageInput.focus();
      });
    });
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9afde0be818a9cd7',t:'MTc2NjA1MjcwNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>